# ุฏุงฺฉูููุช ุฌุงูุน ูพฺฉุฌ Laravel Viewable

## ููุฏูู

ูพฺฉุฌ **Laravel Viewable** ฺฉ ุงุจุฒุงุฑ ูุฏุฑุชููุฏ ุจุฑุง ุฑุฏุงุจ ู ุชุญูู ุจุงุฒุฏุฏูุง ูุฏูโูุง ูุงุฑุงูู ุงุณุช. ุงู ูพฺฉุฌ ุจุง ูพุดุชุจุงู ุงุฒ ุชูููโูุง ููุงุฏ ู ุดูุณุ ุงูฺฉุงู ุชุญูู ูพุดุฑูุชู ุจุงุฒุฏุฏูุง ุฑุง ูุฑุงูู ูโฺฉูุฏ ู ุจุฑุง ูพุฑูฺูโูุง ุจุฒุฑฺฏ ุจุง ุชุฑุงูฺฉ ุจุงูุง ุจูููโุณุงุฒ ุดุฏู ุงุณุช.

### ุงู ูพฺฉุฌ ฺู ูุดฺฉูุงุช ุฑุง ุญู ูโฺฉูุฏุ

ุฏุฑ ุชูุณุนู ูุจโุณุงุชโูุง ู ุงูพูฺฉุดูโูุง ูุงุฑุงููุ ุงุบูุจ ูุงุฒ ุจู ุฏุงูุณุชู ุขูุงุฑ ุจุงุฒุฏุฏูุง ุฏุงุฑู:

- **ูุดฺฉู ุฑุฏุงุจ ุจุงุฒุฏุฏูุง**: ุจุฏูู ุงุจุฒุงุฑ ููุงุณุจุ ุฑุฏุงุจ ุจุงุฒุฏุฏูุง ูุงูุน ฺฉุงุฑุจุฑุงู ุฏุดูุงุฑ ุงุณุช.
- **ูุดฺฉู ุชุญูู ุฏุงุฏูโูุง**: ุฏุงุฏูโูุง ุฎุงู ุจุงุฒุฏุฏูุง ุจุฏูู ูพุฑุฏุงุฒุดุ ุงุฑุฒุด ุชุญูู ูุฏุงุฑูุฏ.
- **ูุดฺฉู ุนููฺฉุฑุฏ**: ุฐุฎุฑู ููููโูุง ุฑฺฉูุฑุฏ ุจุงุฒุฏุฏ ุจุฏูู ุจูููโุณุงุฒุ ูพุงฺฏุงู ุฏุงุฏู ุฑุง ฺฉูุฏ ูโฺฉูุฏ.
- **ูุดฺฉู ุชููู**: ุฏุฑ ุงุฑุงูุ ูุงุฒ ุจู ุชุญูู ุจุฑ ุงุณุงุณ ุชููู ุดูุณ ูุฌูุฏ ุฏุงุฑุฏ.
- **ูุดฺฉู ฺูุฏุฒุจุงู ู ฺูุฏุดุงุฎูโุง**: ุฏุฑ ุงูพูฺฉุดูโูุง ุจุฒุฑฺฏุ ูุงุฒ ุจู ุฌุฏุงุณุงุฒ ุฏุงุฏูโูุง ุจุฑ ุงุณุงุณ ุดุนุจู ุง ุฒุจุงู.
- **ูุดฺฉู ุฌููฺฏุฑ ุงุฒ ุจุงุฒุฏุฏูุง ุชฺฉุฑุงุฑ**: ุฌููฺฏุฑ ุงุฒ ุดูุงุฑุด ุจุงุฒุฏุฏูุง ูฺฉุฑุฑ ุงุฒ ฺฉ ฺฉุงุฑุจุฑ.

ุงู ูพฺฉุฌ ููู ุงู ูุดฺฉูุงุช ุฑุง ุจุง ุฑุงูโุญูโูุง ุฒุฑ ุญู ูโฺฉูุฏ:

- ุฑุฏุงุจ ููุดููุฏ ุจุงุฒุฏุฏูุง ุจุง ุดูุงุณุง ฺฉุงุฑุจุฑุงู
- ุชุญูู ูพุดุฑูุชู ุจุง ูููุฏุงุฑูุง ู ุฑููุฏูุง
- ูุดุฑุฏูโุณุงุฒ ุฎูุฏฺฉุงุฑ ุฏุงุฏูโูุง ุจุฑุง ุนููฺฉุฑุฏ ุจูุชุฑ
- ูพุดุชุจุงู ฺฉุงูู ุงุฒ ุชููู ุดูุณ ู ููุงุฏ
- ูพุดุชุจุงู ุงุฒ ูุนูุงุฑ ฺูุฏุดุงุฎูโุง (multi-tenant)
- ุณุณุชู ุฎูฺฉโุณุงุฒ ุจุฑุง ุฌููฺฏุฑ ุงุฒ ุจุงุฒุฏุฏูุง ูฺฉุฑุฑ

## ูฺฺฏโูุง ฺฉูุฏ

- ๐ **ุนููฺฉุฑุฏ ุจุงูุง**: ูพุฑุฏุงุฒุด ูุงููุฒูุงู ุจุงุฒุฏุฏูุง ุจุง ุตู (queue)
- ๐ **ุชุญูู ูพุดุฑูุชู**: ูููุฏุงุฑูุง ุฒูุงูุ ุฑุชุจูโุจูุฏุ ุฑููุฏูุง
- ๐ **ูพุดุชุจุงู ฺูุฏุชููู**: ููุงุฏ ู ุดูุณ
- ๐ข **ฺูุฏุดุงุฎูโุง**: ูพุดุชุจุงู ุงุฒ multi-tenancy
- ๐ค **ุชุดุฎุต ุฑุจุงุช**: ููุชุฑ ุฎูุฏฺฉุงุฑ ุฑุจุงุชโูุง
- โฐ **ุณุณุชู ุฎูฺฉโุณุงุฒ**: ุฌููฺฏุฑ ุงุฒ ุจุงุฒุฏุฏูุง ูฺฉุฑุฑ
- ๐ **ูุดุฑุฏูโุณุงุฒ**: ฺฉุงูุด ุญุฌู ุฏุงุฏูโูุง
- ๐ฏ **ูุฌููุนูโูุง**: ุฏุณุชูโุจูุฏ ุจุงุฒุฏุฏูุง (ูุจุ APIุ ุงุฏูู)
- ๐ **middleware ุฎูุฏฺฉุงุฑ**: ุซุจุช ุจุงุฒุฏุฏ ุจุง middleware
- ๐ฑ **API ฺฉุงูู**: ุฏุณุชุฑุณ ุจุฑูุงููโููุณ ุจู ููู ุฏุงุฏูโูุง

## ูุตุจ ู ุฑุงูโุงูุฏุงุฒ

### ูพุดโูุงุฒูุง

- PHP 8.1+
- Laravel 10.0+ ุง 11.0+ ุง 12.0+
- ูพุงฺฏุงู ุฏุงุฏู: MySQL 5.7+ / PostgreSQL 9.5+ / SQLite 3.8.8+

### ูุตุจ ุงุฒ ุทุฑู Composer

```bash
composer require karnoweb/laravel-viewable
```

### ุงูุชุดุงุฑ ูุงูโูุง

```bash
# ุงูุชุดุงุฑ ุชูุธูุงุช
php artisan vendor:publish --provider="KarnoWeb\Viewable\ViewableServiceProvider" --tag=viewable-config

# ุงูุชุดุงุฑ migrationูุง
php artisan vendor:publish --provider="KarnoWeb\Viewable\ViewableServiceProvider" --tag=viewable-migrations

# ุงุฌุฑุง migrationูุง
php artisan migrate
```

## ุชูุธูุงุช (ฺฉุงููฺฏ)

ูุงู ุชูุธูุงุช ุฏุฑ `config/viewable.php` ูุฑุงุฑ ุฏุงุฑุฏ. ูุฑ ุจุฎุด ุจุฑุง ฺู ฺฉุงุฑ ุงุณุชูุงุฏู ูโุดูุฏ:

### ุชูุธูุงุช ูพุงฺฏุงู ุฏุงุฏู

```php
'database' => [
    'connection' => env('VIEWABLE_DB_CONNECTION', null), // ุงุชุตุงู ุฌุฏุงฺฏุงูู ุจุฑุง viewable
    'prefix' => env('VIEWABLE_DB_PREFIX', 'vw_'), // ูพุดููุฏ ุฌุฏุงูู
    'records_table' => 'records', // ูุงู ุฌุฏูู ุฑฺฉูุฑุฏูุง ุฎุงู
    'aggregates_table' => 'aggregates', // ูุงู ุฌุฏูู ุฏุงุฏูโูุง ูุดุฑุฏู
],
```

**ฺุฑุงุ** ุฌุฏุงุณุงุฒ ุฏุงุฏูโูุง viewable ุงุฒ ุณุงุฑ ุฏุงุฏูโูุง ุจุฑุง ุนููฺฉุฑุฏ ุจูุชุฑ.

### ุชูุธูุงุช ุดุงุฎู (Multi-tenant)

```php
'branch' => [
    'enabled' => env('VIEWABLE_BRANCH_ENABLED', false), // ูุนุงูโุณุงุฒ ฺูุฏุดุงุฎูโุง
    'column' => 'branch_id', // ูุงู ุณุชูู ุดุงุฎู
    'resolver' => \KarnoWeb\Viewable\Branch\Resolvers\DefaultBranchResolver::class, // ฺฉูุงุณ ุญูโฺฉููุฏู ุดุงุฎู
],
```

**ฺุฑุงุ** ุฏุฑ ุงูพูฺฉุดูโูุง ฺูุฏุดุงุฎูโุงุ ุฌุฏุงุณุงุฒ ุฏุงุฏูโูุง ุจุฑ ุงุณุงุณ ุดุนุจู ุถุฑูุฑ ุงุณุช.

### ุชูุธูุงุช ุชููู

```php
'calendar' => [
    'default' => env('VIEWABLE_CALENDAR', 'gregorian'), // ุชููู ูพุดโูุฑุถ
    'timezone' => env('VIEWABLE_TIMEZONE', 'Asia/Tehran'), // ููุทูู ุฒูุงู
    'week_starts_on' => 6, // ุดุฑูุน ููุชู (ุดูุจู = 6)
    'jalali' => [
        'locale' => 'fa', // ุฒุจุงู
        'numbers' => 'latin', // ุงุนุฏุงุฏ ูุงุชู ุง ูุงุฑุณ
    ],
],
```

**ฺุฑุงุ** ูพุดุชุจุงู ุงุฒ ุชููู ุดูุณ ุจุฑุง ฺฉุงุฑุจุฑุงู ุงุฑุงู ู ุชูุธูุงุช ูุญู.

### ุชูุธูุงุช ูุฌููุนูโูุง

```php
'collections' => [
    'default' => 'default', // ูุฌููุนู ูพุดโูุฑุถ
    'auto_detect' => true, // ุชุดุฎุต ุฎูุฏฺฉุงุฑ ูุฌููุนู
    'guards' => [
        'web' => 'web',
        'api' => 'api',
        'admin' => 'admin',
    ],
],
```

**ฺุฑุงุ** ุฏุณุชูโุจูุฏ ุจุงุฒุฏุฏูุง ุจุฑ ุงุณุงุณ ููุน (ูุจุ APIุ ุงุฏูู) ุจุฑุง ุชุญูู ุจูุชุฑ.

### ุชูุธูุงุช ุจุงุฒุฏุฏฺฉููุฏู

```php
'visitor' => [
    'identifiers' => ['user', 'session', 'ip'], // ุงูููุช ุดูุงุณุง
    'store_metadata' => [
        'ip' => true,
        'user_agent' => false,
        'referer' => false,
    ],
    'hash_ip' => false, // ูุด ฺฉุฑุฏู IP ุจุฑุง ุญุฑู ุฎุตูุต
    'bot_detection' => [
        'enabled' => true,
        'ignore_bots' => true, // ูุงุฏุฏู ฺฏุฑูุชู ุฑุจุงุชโูุง
    ],
],
```

**ฺุฑุงุ** ุดูุงุณุง ุฏูู ุจุงุฒุฏุฏฺฉููุฏฺฏุงู ู ุฌููฺฏุฑ ุงุฒ ุดูุงุฑุด ุฑุจุงุชโูุง.

### ุชูุธูุงุช ุฎูฺฉโุณุงุฒ

```php
'cooldown' => [
    'enabled' => true, // ูุนุงูโุณุงุฒ ุฎูฺฉโุณุงุฒ
    'period' => 60, // ุฏูุฑู ุฎูฺฉโุณุงุฒ ุจู ุฏููู
    'storage' => 'cache', // ูุญู ุฐุฎุฑู (cache, session, database)
    'models' => [], // ุชูุธูุงุช ุฎุงุต ูุฏู
],
```

**ฺุฑุงุ** ุฌููฺฏุฑ ุงุฒ ุดูุงุฑุด ุจุงุฒุฏุฏูุง ูฺฉุฑุฑ ุงุฒ ฺฉ ฺฉุงุฑุจุฑ ุฏุฑ ุฒูุงู ฺฉูุชุงู.

### ุชูุธูุงุช ุนููฺฉุฑุฏ

```php
'performance' => [
    'queue' => [
        'enabled' => env('VIEWABLE_QUEUE_ENABLED', false),
        'connection' => env('VIEWABLE_QUEUE_CONNECTION', 'default'),
        'queue' => env('VIEWABLE_QUEUE_NAME', 'default'),
    ],
    'cache' => [
        'enabled' => true,
        'ttl' => 3600, // ุฒูุงู ุฒูุฏฺฏ ฺฉุด
        'prefix' => 'viewable:',
        'store' => env('VIEWABLE_CACHE_STORE', null),
    ],
],
```

**ฺุฑุงุ** ุจูุจูุฏ ุนููฺฉุฑุฏ ุจุง ุตู ู ฺฉุด ุจุฑุง ุชุฑุง๏ฟฝ๏ฟฝฺฉ ุจุงูุง.

### ุชูุธูุงุช ูุดุฑุฏูโุณุงุฒ

```php
'compression' => [
    'enabled' => true, // ูุนุงูโุณุงุฒ ูุดุฑุฏูโุณุงุฒ
    'keep_raw_days' => 1, // ูฺฏูุฏุงุฑ ุฑฺฉูุฑุฏูุง ุฎุงู ุจู ุฑูุฒ
    'schedule' => '0 1 * * *', // ุฒูุงูโุจูุฏ (ุณุงุนุช 1 ุตุจุญ)
    'chunk_size' => 1000, // ุงูุฏุงุฒู ุฏุณุชู ุจุฑุง ูพุฑุฏุงุฒุด
],
```

**ฺุฑุงุ** ฺฉุงูุด ุญุฌู ูพุงฺฏุงู ุฏุงุฏู ุจุง ูุดุฑุฏูโุณุงุฒ ุฏุงุฏูโูุง ูุฏู.

### ุชูุธูุงุช ฺฉุด ุดูุงุฑูุฏู

```php
'counter_cache' => [
    'enabled' => true, // ูุนุงูโุณุงุฒ ฺฉุด ุดูุงุฑูุฏู
    'columns' => ['view_count', 'views_count', 'hits'], // ูุงู ุณุชููโูุง
],
```

**ฺุฑุงุ** ุจูโุฑูุฒุฑุณุงู ุฎูุฏฺฉุงุฑ ุณุชููโูุง ุดูุงุฑูุฏู ุฏุฑ ูุฏู.

### ุชูุธูุงุช ุชุญูู

```php
'analytics' => [
    'include_today' => true, // ุดุงูู ุฏุงุฏูโูุง ุงูุฑูุฒ
    'default_granularity' => 'daily', // ุฏุงููโุจูุฏ ูพุดโูุฑุถ
],
```

**ฺุฑุงุ** ุชูุธูุงุช ูพุดโูุฑุถ ุจุฑุง ุชุญูู ุฏุงุฏูโูุง.

## ุงุณุชูุงุฏู ุตุญุญ

### 1. ุงุถุงูู ฺฉุฑุฏู Trait ุจู ูุฏู

```php
<?php

namespace App\Models;

use Illuminate\Database\Eloquent\Model;
use KarnoWeb\Viewable\Traits\HasViews;

class Post extends Model
{
    use HasViews;

    protected $fillable = ['title', 'content'];
}
```

### 2. ุซุจุช ุจุงุฒุฏุฏ

```php
// ุซุจุช ุฏุณุช
$post->recordView();
$post->recordView('api'); // ุจุง ูุฌููุนู

// ุจุง middleware (ูพุดููุงุฏ ุดุฏู)
Route::get('/posts/{post}', [PostController::class, 'show'])
    ->middleware('viewable:post');
```

### 3. ุฏุฑุงูุช ุชุนุฏุงุฏ ุจุงุฒุฏุฏูุง

```php
// ุชุนุฏุงุฏ ฺฉู
$total = $post->viewsCount();

// ุชุนุฏุงุฏ ููุญุตุฑ ุจู ูุฑุฏ
$unique = $post->uniqueViewsCount();

// ุจุฑุง ุฏูุฑู ุฎุงุต
use KarnoWeb\Viewable\Calendar\Period;

$monthly = $post->viewsCount(Period::thisMonth());
$weekly = $post->viewsCount(Period::thisWeek());
$last30Days = $post->viewsCount(Period::lastDays(30));
```

### 4. ุชุญูู ูพุดุฑูุชู

```php
$analytics = $post->analytics(Period::lastDays(30));

echo "ฺฉู ุจุงุฒุฏุฏูุง: {$analytics->totalViews}\n";
echo "ุจุงุฒุฏุฏ ููุญุตุฑ ุจู ูุฑุฏ: {$analytics->uniqueViews}\n";
echo "ุฑุดุฏ: {$analytics->growth->percentage}%\n";
echo "ุฑู๏ฟฝ๏ฟฝุฏ: {$analytics->growth->trend->label()}\n";

// ุฏุงุฏูโูุง ูููุฏุงุฑ
$chartData = $analytics->forChart();
```

### 5. ุฑุชุจูโุจูุฏ ู ุฑููุฏูุง

```php
use KarnoWeb\Viewable\Facades\Viewable;

// ูุญุจูุจโุชุฑู ูพุณุชโูุง ุงู ูุงู
$topPosts = Viewable::getRanking(Post::class, Period::thisMonth(), limit: 10);

// ูพุณุชโูุง ุฏุฑ ุญุงู ุฑุดุฏ
$trending = Viewable::getTrending(Post::class, Period::lastDays(7));
```

### 6. ุงุณุชูุงุฏู ุงุฒ ุชููู ุดูุณ

```php
// ุฏูุฑูโูุง ุดูุณ
$jalaliMonth = Period::jalaliMonth(1402, 9); // ููุฑ 1402
$jalaliYear = Period::jalaliYear(1402);

// ุชุญูู ุจุง ุชููู ุดูุณ
$analytics = $post->analytics(Period::jalaliThisMonth());
```

### 7. ูพุฑุณโูุฌููุง ูพุดุฑูุชู

```php
// ูุญุจูุจโุชุฑู ูพุณุชโูุง
$popularPosts = Post::mostViewed(Period::thisMonth())->take(10)->get();

// ูพุณุชโูุง ุจุง ุญุฏุงูู ุจุงุฒุฏุฏ
$featuredPosts = Post::withMinViews(100)->get();
```

## ฺฏุฒุงุฑุดุงุช ู ุชุญููโูุง

### ฺู ฺฏุฒุงุฑุดุงุช ุงุฑุงุฆู ูโุฏูุฏุ

1. **ุดูุงุฑูุฏูโูุง ูพุงู**:
   - ุชุนุฏุงุฏ ฺฉู ุจุงุฒุฏุฏูุง
   - ุชุนุฏุงุฏ ุจุงุฒุฏุฏูุง ููุญุตุฑ ุจู ูุฑุฏ

2. **ุชุญูู ุฒูุงู**:
   - ุณุฑ ุฒูุงู ุฑูุฒุงูู/ููุชฺฏ/ูุงูุงูู
   - ุฑููุฏ ุฑุดุฏ ุง ฺฉุงูุด

3. **ุฑุชุจูโุจูุฏ**:
   - ูุญุจูุจโุชุฑู ูุฏูโูุง
   - ูุฏูโูุง ุฏุฑ ุญุงู ุฑุดุฏ (trending)

4. **ูููุฏุงุฑูุง**:
   - ุฏุงุฏูโูุง ุขูุงุฏู ุจุฑุง ฺฉุชุงุจุฎุงููโูุง ูููุฏุงุฑ (Chart.js ู ุบุฑู)

5. **ุขูุงุฑ ูพุดุฑูุชู**:
   - ูุงูฺฏู ุฑูุฒุงูู
   - ููุทู ุงูุฌ ู ูพุงู
   - ูุฑุฎ ุฑุดุฏ

### ุงู ฺฏุฒุงุฑุดุงุช ฺู ุงุฑุฒุด ุฏุงุฑูุฏุ

- **ุชุตููโฺฏุฑ ุจูุชุฑ**: ุดูุงุฎุช ูุญุชูุง ูุญุจูุจ ุจุฑุง ุจูุจูุฏ ุงุณุชุฑุงุชฺ ูุญุชูุง
- **ุจูููโุณุงุฒ ุนููฺฉุฑุฏ**: ุดูุงุณุง ุตูุญุงุช ฺฉูุฏ ุง ูุญุจูุจ
- **ุชุญูู ุฑูุชุงุฑ ฺฉุงุฑุจุฑ**: ุฏุฑฺฉ ุงูฺฏููุง ุจุงุฒุฏุฏ
- **ุงูุฏุงุฒูโฺฏุฑ ROI**: ุงุฑุฒุงุจ ุชุฃุซุฑ ูุญุชูุง ุจุฑ ุงูุฏุงู ฺฉุณุจโูฺฉุงุฑ
- **ูพุดโุจู ุฑููุฏูุง**: ุดูุงุณุง ูุญุชูุง ุฏุฑ ุญุงู ุฑุดุฏ ุจุฑุง ุณุฑูุงูโฺฏุฐุงุฑ ุจุดุชุฑ

## ฺุฑุง ูุดุฑุฏูโุณุงุฒ (Compression) ุฏุงุฑูุ

### ูุดฺฉู ุจุฏูู ูุดุฑุฏูโุณุงุฒ

ุฏุฑ ูุจโุณุงุชโูุง ูพุฑุจุงุฒุฏุฏุ ุฑูุฒุงูู ููููโูุง ุฑฺฉูุฑุฏ ุจุงุฒุฏุฏ ุงุฌุงุฏ ูโุดูุฏ:

- **ุญุฌู ุฒุงุฏ ุฏุงุฏู**: ูุฑ ุจุงุฒุฏุฏ ฺฉ ุฑฺฉูุฑุฏ ุฌุฏุงฺฏุงูู ุงุฌุงุฏ ูโฺฉูุฏ
- **ฺฉูุฏ ูพุงฺฏุงู ุฏุงุฏู**: ูพุฑุณโูุฌููุง ุชุญูู ุฑู ููููโูุง ุฑฺฉูุฑุฏ ฺฉูุฏ ุงุณุช
- **ูุฒูู ุฐุฎุฑูโุณุงุฒ**: ูฺฏูุฏุงุฑ ุฏุงุฏูโูุง ูุฏู ุบุฑุถุฑูุฑ ุงุณุช
- **ูพุดุชุจุงูโฺฏุฑ ุฏุดูุงุฑ**: ูุงูโูุง ูพุดุชุจุงู ุจุฒุฑฺฏ ู ุฒูุงูโุจุฑ

### ุฑุงูโุญู ูุดุฑุฏูโุณุงุฒ

ูุดุฑุฏูโุณุงุฒ ุฏุงุฏูโูุง ุฑูุฒุงูู ุจู ุฑฺฉูุฑุฏูุง ุชุฌูุน:

- **ฺฉุงูุด ุญุฌู**: ุชุจุฏู ููููโูุง ุฑฺฉูุฑุฏ ุจู ฺูุฏ ุตุฏ ุฑฺฉูุฑุฏ ูุดุฑุฏู
- **ุณุฑุนุช ุจุงูุงุชุฑ**: ูพุฑุณโูุฌููุง ุชุญูู ุฑู ุฏุงุฏูโูุง ูุดุฑุฏู ุณุฑุนโุชุฑ
- **ูฺฏูุฏุงุฑ ุงูุชุฎุงุจ**: ูฺฏูุฏุงุฑ ุฏุงุฏูโูุง ุฎุงู ููุท ุจุฑุง ุฑูุฒูุง ุงุฎุฑ
- **ฺฉุงุฑุง ุจูุชุฑ**: ูพุดุชุจุงูโฺฏุฑ ู ุจุงุฒุงุจ ุณุฑุนโุชุฑ

### ฺฺฏููู ฺฉุงุฑ ูโฺฉูุฏุ

1. **ุฐุฎุฑู ุฑูุฒุงูู**: ุจุงุฒุฏุฏูุง ุจู ุตูุฑุช ุฎุงู ุฐุฎุฑู ูโุดููุฏ
2. **ูุดุฑุฏูโุณุงุฒ ุดุจุงูู**: ุฏุงุฏูโูุง ุฏุฑูุฒ ุจู ุตูุฑุช ุชุฌูุน ูุดุฑุฏู ูโุดููุฏ
3. **ูพุงฺฉโุณุงุฒ**: ุฑฺฉูุฑุฏูุง ุฎุงู ูุฏู ุญุฐู ูโุดููุฏ
4. **ูฺฏูุฏุงุฑ**: ููุท ุฏุงุฏูโูุง ู๏ฟฝ๏ฟฝุฑุฏู ู ุฑฺฉูุฑุฏูุง ุฑูุฒูุง ุงุฎุฑ

## ฺฉุงููุฏูุง ู ูฺฏูุฏุงุฑ

### ูุดุฑุฏูโุณุงุฒ ุฏุณุช

```bash
# ูุดุฑุฏูโุณุงุฒ ุฏุฑูุฒ
php artisan viewable:compress

# ูุดุฑุฏูโุณุงุฒ ุชุงุฑุฎ ุฎุงุต
php artisan viewable:compress --date=2024-01-15

# ุงุฌุฑุง ููุฒูุงู (ุจุฏูู ุตู)
php artisan viewable:compress --sync
```

### ูพุงฺฉโุณุงุฒ ุฑฺฉูุฑุฏูุง ูุฏู

```bash
# ูพุงฺฉโุณุงุฒ ุฑฺฉูุฑุฏูุง ูุฏูโุชุฑ ุงุฒ 7 ุฑูุฒ
php artisan viewable:prune --days=7

# ูพุดโููุงุด ุจุฏูู ูพุงฺฉโุณุงุฒ
php artisan viewable:prune --dry-run
```

### ุฒูุงูโุจูุฏ ุฎูุฏฺฉุงุฑ

ูุดุฑุฏูโุณุงุฒ ุจู ุตูุฑุช ุฎูุฏฺฉุงุฑ ุฏุฑ ุณุงุนุช 1 ุตุจุญ ุงุฌุฑุง ูโุดูุฏ (ูุงุจู ุชูุธู ุฏุฑ ฺฉุงููฺฏ).

## ุฑูุฏุงุฏูุง (Events)

ูพฺฉุฌ ุฑูุฏุงุฏูุง ุฒุฑ ุฑุง ุงุฑุงุฆู ูโุฏูุฏ:

```php
// ุซุจุช ุจุงุฒุฏุฏ
Event::listen(\KarnoWeb\Viewable\Events\ViewRecorded::class, function ($event) {
    // $event->viewData
});

// ูุดุฑุฏูโุณุงุฒ ฺฉุงูู
Event::listen(\KarnoWeb\Viewable\Events\ViewsCompressed::class, function ($event) {
    // $event->date, $event->recordsProcessed, $event->recordsDeleted
});
```

## ุณูุงุฑุดโุณุงุฒ ูพุดุฑูุชู

### ุญูโฺฉููุฏู ุดุงุฎู ุณูุงุฑุด

```php
<?php

namespace App\Resolvers;

use KarnoWeb\Viewable\Contracts\BranchResolverContract;

class CustomBranchResolver implements BranchResolverContract
{
    public function resolve(): ?int
    {
        return auth()->user()->current_branch_id ?? null;
    }
}
```

### ุชูุธูุงุช ูุฏู ุฎุงุต

```php
// ุฏุฑ ฺฉุงููฺฏ
'cooldown' => [
    'models' => [
        App\Models\Post::class => 120, // ุฎูฺฉโุณุงุฒ 2 ุณุงุนุชู ุจุฑุง ูพุณุชโูุง
    ],
],
```

## ุนุจโุงุจ

### ูุดฺฉูุงุช ุฑุงุฌ

1. **ุจุงุฒุฏุฏูุง ุซุจุช ููโุดููุฏ**:
   - ุจุฑุฑุณ ูุนุงู ุจูุฏู middleware
   - ุจุฑุฑุณ ุชูุธูุงุช bot detection

2. **ุนููฺฉุฑุฏ ฺฉูุฏ**:
   - ูุนุงูโุณุงุฒ queue
   - ุชูุธู chunk_size ฺฉูฺฺฉุชุฑ

3. **ุฏุงุฏูโูุง ุชฺฉุฑุงุฑ**:
   - ุจุฑุฑุณ ุชูุธูุงุช cooldown
   - ุชูุธู identifiers ููุงุณุจ

## ูพุดุชุจุงู ู ูุดุงุฑฺฉุช

ุจุฑุง ฺฏุฒุงุฑุด ุจุงฺฏ ุง ูพุดููุงุฏ ูฺฺฏุ ุงุฒ GitHub ุงุณุชูุงุฏู ฺฉูุฏ.

## ูุฌูุฒ

ุงู ูพฺฉุฌ ุชุญุช ูุฌูุฒ MIT ููุชุดุฑ ุดุฏู ุงุณุช.
